//{{{ <editor-fold desc="<F> SAML Configuration">
org.transmart.security.samlEnabled = true

grails.plugins.springsecurity.providerNames = [
        'daoAuthenticationProvider',
        'anonymousAuthenticationProvider',
        'rememberMeAuthenticationProvider',
        ]

if (org.transmart.security.samlEnabled) {
    grails.plugins.springsecurity.providerNames << 'samlAuthenticationProvider'

    org.transmart.security.ssoEnabled = "true"
    //URL to redirect to after successful authentication
    //org.transmart.security.successRe/home/gustavo/.grails/transmartConfig/Config.groovydirectHandler.defaultTargetUrl="/"
    org.transmart.security.successRedirectHandler.defaultTargetUrl = '/userLanding'
    //URL to redirect to after successful logout
    //org.transmart.security.successLogoutHandler.defaultTargetUrl = "/saml/login"
    org.transmart.security.successLogoutHandler.defaultTargetUrl = '/'
    //Suffix of the login filter, saml authentication is initiated when user browses to this url
    org.transmart.security.saml.entryPoint.filterProcesses="/saml/login"
    //SAML Binding to be used for above entry point url.
    org.transmart.security.saml.entryPoint.binding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST"
    //This property must be set otherwise the default binding is used which, in this configuration, is HTTP-ARTIFACT
    org.transmart.security.saml.entryPoint.defaultAssertionConsumerIndex="1"
    //Uid of the saml attribute which will contain the user's username or id
    org.transmart.security.saml.usernameAttribute="urn:oid:0.9.2342.19200300.100.1.1"
    //Suffix of the Service Provider's metadata, this url needs to be configured on IDP
    org.transmart.security.saml.metadata.filterSuffix="/saml/metadata"
    //Id of the spring security's authentication manager
    org.transmart.security.saml.authenticationManager="authenticationManager"
    //Whether sessions should be invalidated after logout
    org.transmart.security.saml.logout.invalidateHttpSession="true"
    //Id of the spring security user service that should be called to fetch users.
    org.transmart.security.saml.userService="org.transmart.FederatedUserDetailsService"

    //ID of the Service Provider
    org.transmart.security.saml.sp.id="emif-transmart"
    //URL of the service provider
    org.transmart.security.saml.sp.url="http://emif.custodix.com/transmart"
    //Alias of the Service Provider
    org.transmart.security.saml.sp.alias="transmart"
    //Alias of the Service Provider's signing key
    org.transmart.security.saml.sp.signingKeyAlias="saml-signing"
    //Alias of the Service Provider's encryption key
    org.transmart.security.saml.sp.encryptionKeyAlias="saml-encryption"

    //URL to the IDP's metadata
    //org.transmart.security.saml.idp.metadataFile="classpath:resources/shibbolethMetadata.xml"
    org.transmart.security.saml.idp.metadataFile="/home/tomcat/.grails/transmartConfig/idp-metadata.xml"
    //Alias of the Service Provider's tls key
    //security.saml.sp.tlsKey="apollo"

    //path to keystore which contains keys used by the Service Provider
    //org.transmart.security.saml.keystore="classpath:resources/samlKeystore.jks"
    org.transmart.security.saml.keystore.file="file:///home/tomcat/.grails/transmartConfig/transmart.jks"
    //keystore's storepass
    org.transmart.security.saml.keystore.password="changeit"
    //keystore's default key
    org.transmart.security.saml.keystore.defaultKey="saml-signing"

    //Alias of the encryption key in the keystore
    org.transmart.security.saml.keystore.encryptionKey.alias="saml-encryption"
    //Password of that the key with above alis in the keystore
    org.transmart.security.saml.keystore.encryptionKey.password="changeit"

    //Alias of the signing key in the keystore
    org.transmart.security.saml.keystore.signingKey.alias="saml-signing"
    //Password of that the key with above alis in the keystore
    org.transmart.security.saml.keystore.signingKey.password="changeit"

    //Note that it's only possible to configure one key alias through property file
    //If different keys are used for encryption, signing, ...
    //the applicationContext-spring-security-saml needs to be updated.

    org.transmart.security.saml.createInexistentUsers="true"
    org.transmart.security.saml.attribute.username="urn:oid:0.9.2342.19200300.100.1"
    org.transmart.security.saml.attribute.firstName="urn:oid:2.5.4.42"
    org.transmart.security.saml.attribute.lastName="urn:oid:2.5.4.4"
    org.transmart.security.saml.attribute.email="urn:oid:0.9.2342.19200300.100.1.3"
} //if (org.transmart.security.samlEnabled)

// </editor-fold> }}}
